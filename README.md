# Телеграмм бот для автоматической отправки в телеграмм канал, по заданному интервалу времени, в течении дня. Node.js

## Что умеет бот
1. Отправка медиа файлов в группы, в запланированное пользователем время. По умолчанию - часовой пояс UTC+4:00.
В настройках скрипта можно указать свой. `const now = moment().tz("Europe/`указать свой город`").format('YYYY-MM-DD HH:mm:ss');` 
Пример: `const now = moment().tz("Europe/Moscow").format('YYYY-MM-DD HH:mm:ss');`
2. Возможность выбора вложенных папок с медиа файлами, внутри папки `media`.
3. Возможность оформить файл с описание постов или отправлять только изображения.
4. Выбор интервала через которое будет производится автоматическая отправка.
5. Выбор времени начала и окончания для отправки сообщений.
6. В любой момент есть возможность остановить бота.
7. Вся информация о времени и файлах отправляется в терминал.

## Создание бота в Telegram
1. Заходим в Telegram и добавляем @BotFather.
2. Пишем `/start`.
3. Пишем `/newbot` - Новый бот.
4. Пишем `Любое название` - Имя бота.
5. Пишем `NameYouBot` - Логин бота, должен заканчиваться на bot.
6. Сохраняем полученный токен.

## Настройка и запуск бота
1. Установите все зависимости через терминал командой: npm install
2. Создать в директории с проектом файл - `keyId.js`.
3. Добавить код ниже с указанием токена полученного при регистрации бота и ID чата/канала:
`const token = 'Токен бота'; //Токен бота
const channelId = '@NameYouChannel'; //Название Вашего чата/канала
module.exports = { token, channelId };`
4. Создайте в директории с проектом папку - `media`. Создать вложенные папки, с любым названием.
5. Загрузить медиа файлы во вложенные папки с форматами изображений: jpg,jpeg,png,gif,raw,tiff,bmp,psd,svg,webp. 
И видео: mp4, mov, avi, mpeg, m4v.
6. Если нужно описание для каждого поста то необходимо добавить в каждую вложенную папку файл `text.xlsx`. Если файлы не будет, то будет просто отправка медиа файлов.
7. Назначьте телеграм-бота администратором в Вашем чате/канале.
8. Запустите бота в терминале: `npm start`.
9. Зайти в приватный чат созданного бота и пишем `/start`.
10. Выберите вложенную папку.
11. Выберите интервал времени.
12. Выберите время начала и окончания.
13. Бот начнет автоматически отправлять медиа файлы в чат/канал.
14. После того все файлы будут отправлены или время окончания закончится , бот остановится.

## Настройка файла text.xlsx
1. Ячейка A содержит название поста, которое будет автоматически преобразован в жирный шрифт.
2. Ячейка B содержит описание поста.
3. В ячейке C можно указать дополнительный текст. Например ссылку на источник или прочая информация. Пример использования ссылки: `<a href="https://example.com">Источник</a>`.
4. В ячейке C можно указать дополнительный текст. Например можно указать хештег. Пример использования: #изображение #фото #арт.

Разработчик: Артём Потапов